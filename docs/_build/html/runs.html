
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Runs &#8212; terrasnek 0.0.3 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Applies" href="applies.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="runs">
<h1>Runs<a class="headerlink" href="#runs" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="terrasnek.runs.TFCRuns">
<em class="property">class </em><code class="sig-prename descclassname">terrasnek.runs.</code><code class="sig-name descname">TFCRuns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_url</span></em>, <em class="sig-param"><span class="n">org_name</span></em>, <em class="sig-param"><span class="n">headers</span></em>, <em class="sig-param"><span class="n">verify</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns" title="Permalink to this definition">¶</a></dt>
<dd><p>Performing a run on a new configuration is a multi-step process.</p>
<p>Create a configuration version on the workspace.
Upload configuration files to the configuration version.
Create a run on the workspace; this is done automatically when a config file is uploaded.
Create and queue an apply on the run; if the run can’t be auto-applied.</p>
<p>Alternatively, you can create a run with a pre-existing configuration version, even one from
another workspace. This is useful for promoting known good code from one workspace to another.</p>
<p><a class="reference external" href="https://www.terraform.io/docs/cloud/api/run.html">https://www.terraform.io/docs/cloud/api/run.html</a></p>
<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">run_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>POST /runs/:run_id/actions/apply</p>
<p>Applies a run that is paused waiting for confirmation after a plan. This includes runs
in the “needs confirmation” and “policy checked” states. This action is only required for
runs that can’t be auto-applied. (Plans can be auto-applied if the auto-apply setting is
enabled on the workspace, the plan is not a destroy plan, and the plan was not queued by a
user without write permissions.)</p>
<p>This endpoint queues the request to perform an apply; the apply might not happen
immediately.</p>
<p>This endpoint represents an action as opposed to a resource. As such, the endpoint does
not return any object in the response body.</p>
</dd></dl>

<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.cancel">
<code class="sig-name descname">cancel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">run_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>POST /runs/:run_id/actions/cancel</p>
<p>The cancel action can be used to interrupt a run that is currently planning or applying.
Performing a cancel is roughly equivalent to hitting ctrl+c during a Terraform plan or
apply on the CLI. The running Terraform process is sent an INT signal, which instructs
Terraform to end its work and wrap up in the safest way possible.</p>
<p>This endpoint queues the request to perform a cancel; the cancel might not happen
immediately. After canceling, the run is completed and later runs can proceed.</p>
<p>This endpoint represents an action as opposed to a resource. As such, it does not
return any object in the response body.</p>
</dd></dl>

<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">payload</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.create" title="Permalink to this definition">¶</a></dt>
<dd><p>POST /runs</p>
<p>A run performs a plan and apply, using a configuration version and the workspace’s
current variables. You can specify a configuration version when creating a run; if
you don’t provide one, the run defaults to the workspace’s most recently used version.</p>
</dd></dl>

<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.discard">
<code class="sig-name descname">discard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">run_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>POST /runs/:run_id/actions/discard</p>
<p>The discard action can be used to skip any remaining work on runs that are paused
waiting for confirmation or priority. This includes runs in the “pending,”
“needs confirmation,” “policy checked,” and “policy override” states.</p>
<p>This endpoint queues the request to perform a discard; the discard might not happen
immediately. After discarding, the run is completed and later runs can proceed.</p>
<p>This endpoint represents an action as opposed to a resource. As such, it does not
return any object in the response body.</p>
</dd></dl>

<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.force_cancel">
<code class="sig-name descname">force_cancel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">run_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.force_cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>POST /runs/:run_id/actions/force-cancel</p>
<p>The force-cancel action is like cancel, but ends the run immediately. Once invoked,
the run is placed into a canceled state, and the running Terraform process is terminated.
The workspace is immediately unlocked, allowing further runs to be queued. The force-cancel
operation requires workspace admin privileges.</p>
<p>This endpoint enforces a prerequisite that a non-forceful cancel is performed first, and a
cool-off period has elapsed. To determine if this criteria is met, it is useful to check
the data.attributes.is-force-cancelable value of the run details endpoint. The time at
which the force-cancel action will become available can be found using the run details
endpoint, in the key data.attributes.force_cancel_available_at. Note that this key is only
present in the payload after the initial cancel has been initiated.</p>
<p>This endpoint represents an action as opposed to a resource. As such, it does not return any
object in the response body.</p>
</dd></dl>

<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.force_execute">
<code class="sig-name descname">force_execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">run_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.force_execute" title="Permalink to this definition">¶</a></dt>
<dd><p>POST /runs/:run_id/actions/force-execute</p>
<p>The force-execute action cancels all prior runs that are not already complete, unlocking
the run’s workspace and allowing the run to be executed. (It initiates the same actions
as the “Run this plan now” button at the top of the view of a pending run.)</p>
<dl class="simple">
<dt>This endpoint enforces the following prerequisites:</dt><dd><p>The target run is in the “pending” state.
The workspace is locked by another run.
The run locking the workspace can be discarded.</p>
</dd>
</dl>
<p>This endpoint represents an action as opposed to a resource. As such, it does not return any
object in the response body.</p>
</dd></dl>

<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.list">
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">workspace_id</span></em>, <em class="sig-param"><span class="n">page</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">page_size</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.list" title="Permalink to this definition">¶</a></dt>
<dd><p>GET /workspaces/:workspace_id/runs</p>
<p>This endpoint supports pagination with standard URL query parameters; remember to
percent-encode.</p>
</dd></dl>

<dl class="py method">
<dt id="terrasnek.runs.TFCRuns.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">run_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#terrasnek.runs.TFCRuns.show" title="Permalink to this definition">¶</a></dt>
<dd><p>GET /runs/:run_id</p>
<p>This endpoint is used for showing details of a specific run.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">terrasnek</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="endpoints.html">Endpoints</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="endpoints.html#contents">Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="applies.html">Applies</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Runs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="endpoints.html">Endpoints</a><ul>
      <li>Previous: <a href="applies.html" title="previous chapter">Applies</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Neil Dahlke.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/runs.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>